@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
	.eyebrow {
		@apply text-xs font-semibold uppercase tracking-wider text-zinc-700;
	}
	.container {
		@apply mx-auto max-w-7xl px-6 md:px-8;
	}
	.container-narrow {
		@apply mx-auto max-w-3xl px-4 md:px-6;
	}
	.section {
		@apply mx-auto max-w-7xl px-6 md:px-8 py-12 md:py-16;
	}
	.section-narrow {
		@apply mx-auto max-w-3xl px-4 md:px-6 py-8 md:py-12;
	}
	.anchor-target {
		scroll-margin-top: 6rem;
	}
	.card {
		@apply rounded-lg border border-zinc-200 bg-white p-5 transition-all duration-300;
	}
	.card:hover {
		@apply shadow-lg border-zinc-300 -translate-y-1;
	}
	.card-tinted {
		@apply rounded-lg border border-brand-orange/20 bg-brand-orange/5 p-5 transition-all duration-300;
	}
	.card-tinted:hover {
		@apply shadow-lg border-brand-orange/30 -translate-y-1;
	}

	/* Banded section separator */
	.band {
		@apply border-y border-zinc-100;
	}

	/* Chips */
	.chip {
		@apply inline-flex items-center rounded-full border border-zinc-300 px-3 py-1 text-sm;
	}

	/* Buttons */
	.btn {
		@apply inline-flex items-center justify-center rounded-md font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-orange focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed;
	}
	.btn:hover {
		@apply scale-105;
	}
	.btn-primary {
		@apply bg-brand-orange text-white shadow px-5 py-3 hover:opacity-95 hover:shadow-lg;
	}
	.btn-secondary {
		@apply bg-white text-zinc-900 ring-1 ring-inset ring-zinc-300 hover:bg-zinc-50 hover:shadow-md px-5 py-3;
	}
	/* For buttons on dark/imagery backgrounds */
	.btn-ghost-white {
		@apply bg-white/10 text-white ring-1 ring-inset ring-white/40 hover:bg-white/20 hover:shadow-lg px-5 py-3;
	}
	/* High-contrast button on brand background */
	.btn-contrast {
		@apply bg-white text-brand-orange hover:shadow-md px-5 py-3;
	}

	/* Inline links */
	.link {
		@apply text-brand-orange focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-orange focus-visible:ring-offset-2 rounded-sm transition-all duration-200;
	}
	.link:hover {
		@apply text-brand-orange/80 scale-105;
	}

	/* Form animations */
	.form-input {
		@apply rounded-md border border-zinc-300 px-3 py-2 transition-all duration-200;
	}
	.form-input:focus {
		@apply border-brand-orange ring-2 ring-brand-orange/20 scale-105;
	}

	/* Navigation links */
	.nav-link {
		@apply transition-all duration-200 hover:text-brand-orange focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-orange rounded-sm;
	}
	.nav-link:hover {
		@apply scale-110;
	}

	/* FAQ Accordion animations */
	.faq-details {
		transition: all 0.2s ease-out;
	}
	.faq-details summary {
		list-style: none;
		pointer-events: none;
	}
	.faq-details summary::-webkit-details-marker {
		display: none;
	}

	/* Custom FAQ button for smooth animations */
	.faq-button {
		pointer-events: auto;
		cursor: pointer;
		user-select: none;
	}

	/* Smooth drawer animation using grid */
	.faq-content {
		display: grid;
		grid-template-rows: 0fr;
		transition: grid-template-rows 0.35s cubic-bezier(0.4, 0, 0.2, 1), opacity
			0.35s cubic-bezier(0.4, 0, 0.2, 1);
		opacity: 0;
	}
	.faq-details.faq-opening .faq-content {
		grid-template-rows: 1fr;
		opacity: 1;
	}
	.faq-content > div {
		overflow: hidden;
		transform: translateY(-4px);
		transition: transform 0.35s cubic-bezier(0.4, 0, 0.2, 1);
	}
	.faq-details.faq-opening .faq-content > div {
		transform: translateY(0);
	}

	/* Mobile Menu Animations */
	.mobile-menu-overlay {
		display: none;
		/* Transparent overlay container */
		background-color: transparent;
		/* Ensure it covers everything including Safari bars */
		min-height: 100vh;
		min-height: -webkit-fill-available;
		/* Hide any overflow during animation */
		overflow: hidden;
	}

	.mobile-menu-overlay.menu-showing {
		display: block !important;
	}

	.mobile-menu-overlay .menu-content {
		transform: translateY(-100%);
		transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
		height: 100%;
		display: flex;
		flex-direction: column;
		/* Background is here, not on overlay */
		background-color: white;
		/* Account for iOS Safari bottom bar */
		padding-bottom: env(safe-area-inset-bottom, 0);
	}

	.mobile-menu-overlay.menu-open .menu-content {
		transform: translateY(0);
	}

	/* Hamburger Menu Icon Animation */
	.hamburger-icon {
		transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	}
	.hamburger-line {
		transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
		transform-origin: center;
	}

	/* Hamburger to X transformation */
	.menu-open .hamburger-line:nth-child(1) {
		transform: translateY(6px) rotate(45deg);
	}
	.menu-open .hamburger-line:nth-child(2) {
		opacity: 0;
	}
	.menu-open .hamburger-line:nth-child(3) {
		transform: translateY(-6px) rotate(-45deg);
	}

	/* Mobile menu content stagger animation */
	.mobile-nav-item {
		opacity: 0;
		transform: translateX(-20px);
		transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	}
	.menu-open .mobile-nav-item {
		opacity: 1;
		transform: translateX(0);
	}
	.menu-open .mobile-nav-item:nth-child(1) {
		transition-delay: 0.1s;
	}
	.menu-open .mobile-nav-item:nth-child(2) {
		transition-delay: 0.15s;
	}
	.menu-open .mobile-nav-item:nth-child(3) {
		transition-delay: 0.2s;
	}
	.menu-open .mobile-nav-item:nth-child(4) {
		transition-delay: 0.25s;
	}

	/* Remove focus outline when menu opens but keep for keyboard nav */
	.mobile-menu-overlay a:focus-visible {
		outline: 2px solid #d75e02;
		outline-offset: 2px;
	}
	.mobile-menu-overlay a:focus:not(:focus-visible) {
		outline: none;
	}
}

@layer utilities {
	.reveal {
		@apply opacity-0 translate-y-4;
	}
	.reveal.in {
		@apply opacity-100 translate-y-0 transition-all duration-500;
	}
	.reveal-immediate {
		@apply opacity-100 translate-y-0;
	}

	/* Mobile marquee animation for homepage banner */
	@keyframes marquee {
		0% {
			transform: translateX(0);
		}
		100% {
			transform: translateX(-100%);
		}
	}

	.marquee-wrapper {
		display: flex;
		will-change: transform;
	}

	.marquee-content {
		display: flex;
		white-space: nowrap;
		animation: marquee 20s linear infinite;
		flex-shrink: 0;
		min-width: 100%;
		padding-right: 2rem;
	}

	.marquee-container {
		overflow: hidden;
		position: relative;
		width: 100%;
		max-width: 100%;
	}

	/* Blur effect on edges */
	.marquee-container::before,
	.marquee-container::after {
		content: "";
		position: absolute;
		top: 0;
		bottom: 0;
		width: 40px;
		z-index: 10;
		pointer-events: none;
	}

	.marquee-container::before {
		left: 0;
		background: linear-gradient(to right, white, transparent);
	}

	.marquee-container::after {
		right: 0;
		background: linear-gradient(to left, white, transparent);
	}
}
