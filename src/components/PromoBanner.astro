---
import { withBase } from "../lib/paths"
---
<div id="promo-banner" class="w-full bg-brand-orange text-white text-sm hidden">
  <div class="container py-2 flex flex-col sm:flex-row items-center justify-center gap-2 text-center">
    <span class="font-medium">Save 10% on your build — pay your deposit by Aug 30.</span>
    <a href={withBase('/pricing/#deposit')} class="underline underline-offset-4 hover:no-underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white rounded-sm">
      50% today, balance at launch – 90-day warm lead guarantee
    </a>
    <button id="promo-close" class="ml-2 rounded p-1 hover:bg-white/10 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white" aria-label="Dismiss banner">×</button>
  </div>
  <script is:inline>
    try {
      var key = 'promoDismissed';
      var el = document.getElementById('promo-banner');
      var btn = document.getElementById('promo-close');
      var dismissed = localStorage.getItem(key) === '1';
      if (el && !dismissed) el.classList.remove('hidden');
      btn && btn.addEventListener('click', function() {
        localStorage.setItem(key, '1');
        el?.classList.add('hidden');
      });
    } catch {}
  </script>
</div>

