---
import { PRICING_PLANS } from "../data/pricing"
import { withBase } from "../lib/paths"
import Card from "./Card.astro"
interface Props {
	heading?: string
	showDepositCta?: boolean
	depositGoal?: string
	tinted?: boolean
}
const {
	heading = "Service Pricing",
	showDepositCta = false,
	depositGoal,
	tinted = false,
} = Astro.props as Props
---
<div class="content-narrow">
  <div class="eyebrow">Pricing</div>
  <h2 class="mt-1 text-2xl font-bold tracking-tight">{heading}</h2>
  <div class="mt-6 grid gap-6 md:grid-cols-2">
    {PRICING_PLANS.map((plan) => (
      <Card tinted={tinted} class="p-6">
        <h3 class="text-lg font-semibold">{plan.name}</h3>
        <ul class="mt-3 list-disc pl-5 space-y-1 text-sm text-zinc-700">
          {plan.bullets.map((b) => (<li>{b}</li>))}
        </ul>
        <div class="mt-4">
          <div class="text-xs text-zinc-600"><a href="https://book.stripe.com/eVqeVd8Vi9U45RbdJy73G00" target="_blank" rel="noopener noreferrer" class="link">Pay deposit</a></div>
        </div>
      </Card>
    ))}
    <Card tinted={tinted} class="p-6 md:col-span-2">
      <h3 class="text-lg font-semibold">90-Day Warm-Lead Guarantee</h3>
      <p class="mt-2 text-sm text-zinc-700">If you don't see a measurable increase in warm inquiries (calls with ≥20s duration or completed quote forms) within 90 days of launch, I'll work at no charge until you do.</p>
      <p class="mt-2 text-xs text-zinc-600"><span class="font-medium">What counts?</span> Warm lead = call ≥20s or submitted form with name + phone. We measure via your call logs and form submissions.</p>
    </Card>
  </div>
  {showDepositCta && (
    <div class="mt-6" id="deposit">
      <a href={withBase('/contact/')} class="btn btn-primary" aria-label="Book a 15-minute call" {...(depositGoal ? { 'data-goal': depositGoal } : {})}>Book a 15-minute call</a>
      <p class="mt-2 text-sm text-zinc-600">Prefer to skip the call? <a href="https://book.stripe.com/eVqeVd8Vi9U45RbdJy73G00" target="_blank" rel="noopener noreferrer" class="link">Pay deposit</a> to reserve your build week.</p>
    </div>
  )}
  
</div>

