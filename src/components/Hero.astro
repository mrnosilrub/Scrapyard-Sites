---
interface Props {
	title: string
	body?: string
	primaryHref?: string
	primaryLabel?: string
	secondaryHref?: string
	secondaryLabel?: string
	image?: string | { src: string }
}

const {
	title,
	body = "",
	primaryHref = "/contact/",
	primaryLabel = "Book a 15-minute call",
	secondaryHref,
	secondaryLabel,
	image,
} = Astro.props as Props

import heroAsset from "../assets/hero.jpg"
import heroUrl from "../assets/hero.jpg?url"
import { withBase } from "../lib/paths"
const bgFromProp = typeof image === "string" ? image : (image?.src ?? "")
const bgFromImport =
	typeof heroAsset === "string" ? heroAsset : (heroAsset?.src ?? "")
const bgSrc = bgFromProp || bgFromImport || heroUrl
const bgStyle = 'background-image: url("' + bgSrc + '")'
const resolvedPrimary = withBase(primaryHref)
const resolvedSecondary = secondaryHref ? withBase(secondaryHref) : undefined
---
<section class="relative isolate">
  <div
    class="relative h-[65vh] min-h-[420px] w-full bg-cover bg-center"
    style={bgStyle}
    aria-hidden="true"
  >
    <img src={bgSrc} alt="" class="absolute inset-0 h-full w-full object-cover" loading="eager" />
    <div class="absolute inset-0 bg-black/50"></div>
    <div class="relative z-10 container py-24 flex h-full items-center">
      <div class="text-white">
        <h1 class="text-4xl sm:text-5xl font-bold tracking-tight">{title}</h1>
        {body && <p class="mt-4 max-w-3xl text-lg text-zinc-100">{body}</p>}
        <div class="mt-8 flex flex-col sm:flex-row gap-3">
          <a href={resolvedPrimary} class="btn btn-primary" data-goal="CTA: Book Discovery (Hero)">
            {primaryLabel}
          </a>
          {resolvedSecondary && secondaryLabel && (
            <a href={resolvedSecondary} class="btn btn-ghost-white" data-goal="Nav: See Pricing (Hero)">
              {secondaryLabel}
            </a>
          )}
        </div>
      </div>
    </div>
  </div>
</section>

