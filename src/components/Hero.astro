---
interface Props {
	title: string
	body?: string
	primaryHref?: string
	primaryLabel?: string
	secondaryHref?: string
	secondaryLabel?: string
	image?: string | { src: string }
}

const {
	title,
	body = "",
	primaryHref = "/contact/",
	primaryLabel = "Book a Discovery Call",
	secondaryHref,
	secondaryLabel,
	image,
} = Astro.props as Props

import heroAsset from "../assets/hero.jpg"
import { withBase } from "../lib/paths"
const bg = image ?? heroAsset
const bgSrc = typeof bg === "string" ? bg : (bg?.src ?? "")
const resolvedPrimary = withBase(primaryHref)
const resolvedSecondary = secondaryHref ? withBase(secondaryHref) : undefined
---
<section class="relative isolate">
  <div
    class="relative h-[65vh] min-h-[420px] w-full bg-cover bg-center"
    style={`background-image: url(${bgSrc});`}
    aria-hidden="true"
  >
    <div class="absolute inset-0 bg-black/50"></div>
    <div class="relative z-10 container py-24 flex h-full items-center">
      <div class="text-white">
        <h1 class="text-4xl sm:text-5xl font-bold tracking-tight">{title}</h1>
        {body && <p class="mt-4 max-w-3xl text-lg text-zinc-100">{body}</p>}
        <div class="mt-8 flex flex-col sm:flex-row gap-3">
          <a href={resolvedPrimary} class="btn btn-primary" data-goal="CTA: Book Discovery (Hero)">
            {primaryLabel}
          </a>
          {resolvedSecondary && secondaryLabel && (
            <a href={resolvedSecondary} class="btn btn-ghost-white" data-goal="Nav: See Pricing (Hero)">
              {secondaryLabel}
            </a>
          )}
        </div>
      </div>
    </div>
  </div>
</section>

